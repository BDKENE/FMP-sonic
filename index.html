<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Towards Sonic Fossils ‚Äì Elephant & Castle Edition</title>
  <style>
    :root{
      --ink:#222; --sun:#ffcb6b; --sky:#2979ff; --coral:#ff7043; --mint:#21c7a8; --paper:#fff8e1;
    }
    body{font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;color:var(--ink);text-align:center;background:
      radial-gradient(80vw 80vw at -10% -20%, #fff1c7 0%, transparent 60%),
      radial-gradient(60vw 60vw at 110% -10%, #e7f0ff 0%, transparent 60%),
      linear-gradient(180deg,#fffdf7,#ffffff);}
    header{position:relative;padding:48px 20px 28px;background:var(--sun);border-bottom:4px solid #333;box-shadow:0 4px 0 #333;}
    header:after{content:"";position:absolute;left:0;right:0;bottom:-14px;height:14px;background:repeating-linear-gradient(90deg,transparent 0 18px,rgba(0,0,0,.08) 18px 22px);}
    h1{font-size:2rem;margin:0 0 6px}
    header p{margin:0;color:#4a3b1a}

    .btn{background:var(--sky);color:#fff;border:none;border-radius:14px;padding:14px 26px;margin:10px;cursor:pointer;font-size:1rem;box-shadow:0 6px 0 #1c54b2;transition:.15s}
    .btn:hover{transform:translateY(-2px);box-shadow:0 8px 0 #1c54b2}
    .btn:disabled{opacity:.6;cursor:not-allowed;box-shadow:0 6px 0 #96b7ff}
    .btn.alt{background:var(--coral);box-shadow:0 6px 0 #c94f2c}
    .btn.ghost{background:#fff;color:var(--ink);border:2px solid var(--ink);box-shadow:0 6px 0 #bdbdbd}

    .wrap{max-width:980px;margin:32px auto;padding:0 20px}

    .panel{background:#fff;border:3px solid #333;border-radius:24px;box-shadow:8px 8px 0 #333;padding:22px;margin:18px auto;position:relative}
    .panel .badge{position:absolute;left:-10px;top:-12px;background:#fff;border:2px solid #333;border-radius:999px;padding:6px 12px;font-weight:700;transform:rotate(-8deg)}

    .hint{color:#666;margin:8px 0 12px}

    .illustration{display:block;width:100%;max-width:100%;height:auto;border:2px solid #333;border-radius:14px;margin-top:10px;box-shadow:0 4px 0 #333}
    .desc{font-size:.95rem;color:#333;margin-top:8px;text-align:center;max-width:90%;margin-left:auto;margin-right:auto;}

    audio{width:100%;margin-top:10px}

    #recordingText{display:none;margin-top:10px;font-weight:800;font-size:1.1rem;color:#d32f2f}
    .bars{height:42px;display:flex;align-items:flex-end;gap:6px;justify-content:center;margin:14px 0}
    .bar{width:6px;background:linear-gradient(180deg,var(--mint),#7ee7d8);border-radius:6px;height:8px;opacity:.3}
    .bars.active .bar{animation:wave 0.6s ease-in-out infinite;opacity:1}
    @keyframes wave{0%{height:8px}50%{height:38px}100%{height:8px}}

    .list{margin:26px 0}
    .card{background:var(--paper);border:2px solid #ffb74d;border-radius:18px;box-shadow:0 4px 12px rgba(0,0,0,.08);padding:16px;text-align:left}
    .card + .card{margin-top:14px}
  </style>
</head>
<body>
<header>
  <h1>üéß Towards Sonic Fossils ‚Äì Elephant & Castle Edition</h1>
  <p>Speak, record, and leave your voice fossil in the city.</p>
  <button class="btn" id="scrollBtn">Start</button>
</header>

<div class="wrap">

  <!-- LISTEN -->
  <section class="panel">
    <div class="badge">LISTEN DECK</div>
    <h2>Listen to Sonic Layers</h2>

    <!-- PAST -->
    <div class="card" id="pastCard">
      <strong>Past ‚Äî Trocadero Cinema & Market Centre</strong>
      <img id="pastImg" class="illustration" src="">
      <p class="desc" id="pastDesc"></p>
      <audio id="pastAudio" controls></audio>
      <div style="margin-top:8px;">
        <button class="btn ghost" id="pastPrev">‚óÄ</button>
        <span id="pastLabel"></span>
        <button class="btn ghost" id="pastNext">‚ñ∂</button>
      </div>
    </div>

    <!-- PRESENT -->
    <div class="card" id="presentCard">
      <strong>Present ‚Äî Student Life & Construction</strong>
      <p class="desc" id="presentDesc"></p>
      <audio id="presentAudio" controls></audio>
      <div style="margin-top:8px;">
        <button class="btn ghost" id="presentPrev">‚óÄ</button>
        <span id="presentLabel"></span>
        <button class="btn ghost" id="presentNext">‚ñ∂</button>
      </div>
    </div>

  </section>

  <!-- RECORD -->
  <section class="panel">
    <div class="badge">RECORD</div>
    <button class="btn alt" id="startBtn">üéôÔ∏è Start Recording</button>
    <button class="btn ghost" id="stopBtn" disabled>‚èπ Stop</button>

    <div id="recordingText"><span>‚óè</span> Recording‚Ä¶</div>
    <div class="bars" id="bars"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
  </section>

  <!-- ARCHIVE -->
  <section class="panel">
    <div class="badge">ARCHIVE</div>
    <div id="audioContainer" class="list"></div>
  </section>

</div>

<script>
/* --- DATA DECK --- */
const pastTracks = [
  {
    title: "Rudy Lewis, organ ‚Äî BBC Broadcast, Trocadero Cinema",
    img: "./img/trocadero-cinema.png",
    url: "./audio/rudy-lewis-trocadero.mp3",
    desc: "Broadcast ambience from the historic Trocadero Cinema, echoing communal leisure and shared listening spaces."
  },
  {
    title: "Market Traders‚Äô Shouts ‚Äî Elephant Shopping Centre",
    img: "./img/elephant-shopping-centre.png",
    url: "./audio/elephant-shopping-centre.mp3",
    desc: "Indoor shopping centre noise: layered conversations, retail movement, and the pulse of everyday trade."
  }
];

const presentTracks = [
  {
    title: "UAL Students‚Äô Canteen",
    url: "./audio/ual-canteen.mp3",
    desc: "Contemporary student life and study rhythms in shared social space."
  },
  {
    title: "Construction Site",
    url: "./audio/construction-site.mp3",
    desc: "Urban transformation in progress: structural reshaping and renewal."
  }
];

let pastIndex = 0;
let presentIndex = 0;

const pastImg = document.getElementById("pastImg");
const pastDesc = document.getElementById("pastDesc");
const pastAudio = document.getElementById("pastAudio");
const pastLabel = document.getElementById("pastLabel");

const presentAudio = document.getElementById("presentAudio");
const presentLabel = document.getElementById("presentLabel");
const presentDesc = document.getElementById("presentDesc");

function loadPast(){
  const t = pastTracks[pastIndex];
  pastImg.src = t.img;
  pastDesc.innerText = t.desc;
  pastAudio.src = t.url;
  pastLabel.innerText = `${pastIndex+1}/${pastTracks.length} ¬∑ ${t.title}`;
}
function loadPresent(){
  const t = presentTracks[presentIndex];
  presentDesc.innerText = t.desc;
  presentAudio.src = t.url;
  presentLabel.innerText = `${presentIndex+1}/${presentTracks.length} ¬∑ ${t.title}`;
}
document.getElementById("pastPrev").onclick = ()=>{ pastIndex=(pastIndex-1+pastTracks.length)%pastTracks.length; loadPast(); pastAudio.play(); };
document.getElementById("pastNext").onclick = ()=>{ pastIndex=(pastIndex+1)%pastTracks.length; loadPast(); pastAudio.play(); };
document.getElementById("presentPrev").onclick = ()=>{ presentIndex=(presentIndex-1+presentTracks.length)%presentTracks.length; loadPresent(); presentAudio.play(); };
document.getElementById("presentNext").onclick = ()=>{ presentIndex=(presentIndex+1)%presentTracks.length; loadPresent(); presentAudio.play(); };

loadPast(); loadPresent();
</script>

</body>
</html>
